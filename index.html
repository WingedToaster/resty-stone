<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Rest API toolkit for KeystoneJS framework">
        <meta name="author" content="Shlomi Assaf">
        <link rel="canonical" href="http://shlomiassaf.github.io/resty-stone/">
        <link rel="shortcut icon" href="./img/favicon.ico">

        <title>resty-stone</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href=".">resty-stone</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="tutorial/quickstart/">Quickstart</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="tutorial/quickstart/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/shlomiassaf/resty-stone/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#resty-stone">resty-stone</a></li>
        
            <li><a href="#see-example-directory-to-understand-how-to-init-a-basic-rest">See example directory to understand how to init a basic REST.</a></li>
        
            <li><a href="#key-features">Key features:</a></li>
        
            <li><a href="#install">Install</a></li>
        
            <li><a href="#example">Example</a></li>
        
            <li><a href="#todo">TODO</a></li>
        
            <li><a href="#licence">LICENCE</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="resty-stone">resty-stone</h1>
<p><strong>Rest API toolkit for <a href="https://github.com/keystonejs/keystone">KeystoneJS</a>.</strong></p>
<p>A powerful and robust toolkit for building Web API`s.</p>
<p>Click here for <a href="http://shlomiassaf.github.io/resty-stone">Documentation</a></p>
<h4 id="see-example-directory-to-understand-how-to-init-a-basic-rest">See <a href="https://github.com/shlomiassaf/resty-stone/tree/master/example">example</a> directory to understand how to init a basic REST.</h4>
<h2 id="key-features">Key features:</h2>
<ul>
<li>
<p><strong>Works out of the box</strong><br />
 resty-stone requires only metadata, tell it what a resource can or cant do, it will take care of the "REST".</p>
</li>
<li>
<p><strong>REST Domain</strong>  <br />
 resty-stone create a new layer of metadata to control the behavior of List instances.<br />
 The allows a high level of customization per List instance/group.</p>
</li>
<li>
<p><strong>Token based authentication</strong><br />
 resty-stone comes with built-in support for <strong>Basic Auth</strong> authentication built on top of KeystoneJS authentication.<br />
 This means separate auth modules but same behavior.</p>
</li>
<li>
<p><strong>Highly customizable</strong>    <br />
 resty-stone lets you control the behavior of your List or let it do its magic automatically.<br />
 Customize fields, request handling, serialization, filtering, custom remote functions and more.</p>
</li>
<li>
<p><strong>Relay on KeystoneJS building blocks</strong>   <br />
 resty-stone uses KeystoneJS infrastructure where possible.<br />
 This helps keeping performance aligned and creates a unified experience.</p>
</li>
<li>
<p><strong>AdminUI separation</strong><br />
 resty-stone create a clear separation between AdminUI configuration and REST domain configuration.</p>
</li>
</ul>
<h2 id="install">Install</h2>
<pre><code>npm install resty-stone --save
</code></pre>

<h2 id="example">Example</h2>
<p>Lets demonstrate a simple WebAPI for the model Post in a KeystoneJS blog.<br />
We will expose the model <code>Post</code> as a resource, it will:<br />
  - Be a read only (HTTP GET) access for all users (unauthenticated &amp; authenticated).<br />
  - Expos Only Post instanced with a state = 'published'.<br />
  - Show only 3 columns: title, slug and content.brief</p>
<p>First, define the metadata for the resource:</p>
<pre><code>module.exports.default = {
    &quot;httpMethods&quot;: &quot;get&quot;,
    &quot;defaultKey&quot;: &quot;slug&quot;,
    &quot;permanentFilter&quot;: &quot;state:published&quot;,
    &quot;columns&quot;: {
        &quot;visible&quot;: [
            &quot;title&quot;,
            &quot;slug&quot;,
            &quot;content.brief&quot;
        ]
    }
}
</code></pre>

<p>We will save this file in <code>./rest_model/Post.js</code></p>
<p>Now, in the startup file for our app (keystone.js) we will initialize resty-stone:</p>
<pre><code>var keystone = require('keystone');

/*
        Keystone init code here...
*/

var restyStone = require(&quot;resty-stone&quot;)(keystone); 
keystone.set('resty api base address', &quot;/api&quot;);
keystone.set('resty meta location', &quot;./rest_model&quot;);
keystone.start(restyStone.start());
</code></pre>

<p>Now browse to <code>http://www.yourapidomain.com/api/posts</code>, you should see:</p>
<pre><code>{
    &quot;success&quot;: true,
    &quot;resultType&quot;: &quot;array&quot;,
    &quot;modelType&quot;: &quot;Post&quot;,
    &quot;result&quot;: [
        {
            &quot;_id&quot;: &quot;5480b21f7a43bca82c1d34e8&quot;,
            &quot;slug&quot;: &quot;hello-world&quot;,
            &quot;title&quot;: &quot;Hello World!&quot;
            &quot;content&quot;: {
                &quot;brief&quot;: &quot;this is a short brief for hello world post!&quot;,                
            }
        },
        {
            &quot;_id&quot;: &quot;6535b25375435ca52c1444e1&quot;,
            &quot;slug&quot;: &quot;hello-world-2&quot;,
            &quot;title&quot;: &quot;Hello World#2!&quot;
            &quot;content&quot;: {
                &quot;brief&quot;: &quot;this is a short brief for hello world #2 post!&quot;,                
            }
        }
    ],
    &quot;pagination&quot;: {
        &quot;total&quot;: 2,
        &quot;currentPage&quot;: 1,
        &quot;totalPages&quot;: 1,
        &quot;pages&quot;: [
            1
        ],
        &quot;previous&quot;: false,
        &quot;next&quot;: false,
        &quot;first&quot;: 1,
        &quot;last&quot;: 2
    }
}
</code></pre>

<h2 id="todo">TODO</h2>
<ul>
<li>Implement nested List handling.</li>
<li>Support more authentication policies (OAuth1, OAuth2)</li>
<li>Auto-generate client (native js, angular)?</li>
</ul>
<h2 id="licence">LICENCE</h2>
<p>The MIT License (MIT)</p>
<p>Copyright (c) 2014 Shlomi Assaf</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/prettify-1.0.min.js"></script>
        <script src="./js/highlight.pack.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>